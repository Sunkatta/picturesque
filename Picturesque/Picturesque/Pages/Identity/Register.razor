@page  "/register"
@inherits RegisterComponent

<div class="login-register-holder">
    <div class="container">
        @if (hasSuccessfullyRegistered)
        {
            <MatH3 class="text-center">Account Successfully Created!</MatH3>
            <div class="text-center form-holder w-50">
                <MatH4>A confirmation email has been sent to</MatH4>
                <br />
                <MatH4>@registerInputModel.Email</MatH4>
                <MatButton type="submit" Class="mt-2 w-100" Link="/login" Outlined="true">
                    To Login
                </MatButton>
            </div>
        }
        else
        {
            <MatH3 class="text-center">Create an Account</MatH3>
            <div class="form-holder">
                <EditForm Model="@registerInputModel" OnValidSubmit="@HandleRegister">
                    <DataAnnotationsValidator />
                    <ValidationSummary />

                    <p class="text-danger text-center">@errorMessage</p>

                    <div class="form-group">
                        <MatTextField Class="w-100"
                                      Required="true"
                                      Label="Email"
                                      Outlined="true"
                                      @bind-Value="registerInputModel.Email">
                        </MatTextField>
                    </div>
                    <div class="form-group">
                        <MatTextField Class="w-100"
                                      Required="true"
                                      Label="Username"
                                      Outlined="true"
                                      @bind-Value="registerInputModel.Username">
                        </MatTextField>
                    </div>
                    <div class="form-group">
                        <MatTextField Class="w-100"
                                      Type="password"
                                      Required="true"
                                      Label="Password"
                                      Outlined="true"
                                      HelperText="Should be at least 6 characters long"
                                      Icon="lock_outline"
                                      IconTrailing="true"
                                      @bind-Value="registerInputModel.Password">
                        </MatTextField>
                    </div>
                    <div class="form-group">
                        <MatTextField Class="w-100"
                                      Type="password"
                                      Required="true"
                                      Label="Confirm Password"
                                      Outlined="true"
                                      Icon="lock_outline"
                                      IconTrailing="true"
                                      @bind-Value="registerInputModel.ConfirmPassword">
                        </MatTextField>
                    </div>
                    <div class="form-group text-center">
                        <MatButton Link="/login">
                            Already have an account? Go to Login
                        </MatButton>
                    </div>
                    <div class="text-center">
                        <MatButton type="submit" Class="w-100" Outlined="true">Register</MatButton>
                    </div>

                </EditForm>
            </div>
        }
    </div>

</div>
