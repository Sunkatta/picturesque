@inherits StartGameComponent

@if (gameOptions == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <EditForm Model="@gameOptionsInputModel" OnValidSubmit="@StartGame">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="row">
            <div class="form-group col-md-4">
                <label>Select Category</label>
                <InputSelect class="form-control" @bind-Value="gameOptionsInputModel.CategoryId">
                    <option value="" selected>--</option>
                    @foreach (var category in gameOptions.Categories)
                        {
                        <option value="@category.Id">@category.Name</option>
                        }
                </InputSelect>
            </div>
            <div class="form-group col-md-4">
                <label>Select Difficulty</label>
                <InputSelect class="form-control" @bind-Value="gameOptionsInputModel.Difficulty">
                    <option value="" selected>--</option>
                    @foreach (var difficulty in gameOptions.Difficulties)
                        {
                        <option value="@difficulty">@difficulty</option>
                        }
                </InputSelect>
            </div>
            <div class="form-group text-center col-md-4">
                <label></label>
                <button type="submit" class="btn btn-outline-success mt-2 w-100">Start Game</button>
            </div>
        </div>
    </EditForm>

    @switch (game.Difficulty)
    {
        case 0:
            tileNumber = 0;
            @for (int i = 0; i < game.NumberOfTiles / 4; i++)
            {
                <div class="row">
                    @for (int j = 0; j < game.NumberOfTiles / 4; j++)
                    {
                        <div class="col-md-3" style="border: 1px solid red;">
                            @tileNumber
                        </div>
                        tileNumber++;
                    }
                </div>
            }
            break;
        case 1:
            tileNumber = 0;
            @for (int i = 0; i < game.NumberOfTiles / 6; i++)
            {
                <div class="row">
                    @for (int j = 0; j < game.NumberOfTiles / 6; j++)
                    {
                        <div class="col-md-2" style="border: 1px solid red;">
                            @tileNumber
                        </div>
                        tileNumber++;
                    }
                </div>
            }
            break;
        case 2:
            tileNumber = 0;
            @for (int i = 0; i < game.NumberOfTiles / 8; i++)
            {
                <div class="section group">
                    @for (int j = 0; j < game.NumberOfTiles / 8; j++)
                    {
                        <div class="col span_1_of_8" style="border: 1px solid red;">
                            @tileNumber
                        </div>
                        tileNumber++;
                    }
                </div>
            }
            break;
        default:
            break;
    }

    @foreach (var picture in game.Pictures)
    {
        <img src="@picture" />
    }


}

@code {
    int tileNumber = 0;
}
